delete from order_line where order_id in ( select id from orders where  origin_restaurant_id=:restaurantId and datedelivery>= :startDate and datedelivery <= :endDate) and order_id not in (select order_id from delivery where origin_restaurant_id=:restaurantId and  order_id in (select id from orders where datedelivery between :startDate and :endDate) );
delete from orders where  origin_restaurant_id=:restaurantId and datedelivery>= :startDate and datedelivery <= :endDate and id  not in  (select order_id from delivery where origin_restaurant_id=:restaurantId and  order_id in (select id from orders where datedelivery between :startDate and :endDate ));
select count(*) from orders where  origin_restaurant_id=:restaurantId and datedelivery>= :startDate and datedelivery <= :endDate