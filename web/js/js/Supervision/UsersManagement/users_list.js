$(function(){orderMultoSelect($("#add_user_eligibleRestaurants")),initMultiSelect("#add_user_eligibleRestaurants"),$(".form-error").length&&!$("#body-edit-user").length&&$(".filter-zone .panel-heading").siblings(".panel-body").slideToggle(),list_users=initSimpleDataTable("#users_list_table",{searching:!0,aoColumnDefs:[{bSortable:!1,aTargets:[5]},{sClass:"actions-btn",aTargets:[5]},{width:"10%",aTargets:[5]}]}),$(document).on("click",".detail-btn",function(){loader.show();var t=$(this).parentsUntil("tbody","tr").attr("id");ajaxCall({url:Routing.generate("user_details",{user:t}),type:"json"},function(t){showDefaultModal(Translator.trans("users.list.details",{},"supervision"),t.data.bodyModal,t.data.footerModal,"95%"),initSimpleDataTable("#user_restaurants_table",{lengthChange:!1,searching:!1,pageLength:5}),loader.hide()})}),$(document).on("click",".delete-user",function(){var t=$(this).attr("data-username"),e=$(this).attr("data-user"),a=Translator.trans("users.list.delete"),s=Translator.trans("users.list.delete_confirm",{username:t}),l='<div class="row" style="margin-bottom: 0px;"><div class="col col-lg-2 col-md-6 col-sm-6 col-xs-6 pull-right"><button class="btn btn-primary btn-block  waves-effect waves-light" type="button" data-user="'+e+'" id="confirm-delete-user"><span>'+Translator.trans("keyword.yes")+'</span></button></div><div class="col col-lg-2 col-md-6 col-sm-6 col-xs-6 pull-right"><button class="btn red btn-block  waves-effect waves-light" type="button" data-dismiss="modal"><span>'+Translator.trans("keyword.no")+"</span></button></div></div>";showDefaultModal(a,s,l)}),$(document).on("click","#confirm-delete-user",function(){loader.block();var t=$(this).attr("data-user");ajaxCall({url:Routing.generate("delete_user",{user:t}),type:"json"},function(t){void 0!==t.deleted&&1==t.deleted&&location.reload()}),loader.unblock()}),$("#export-btn").on("click",function(){$(this).attr("data-type");submitExportDocumentFile(".filter-zone",list_users,Routing.generate("users_list_export"))})});