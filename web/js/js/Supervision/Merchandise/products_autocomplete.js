function autocompleteProduct(t,e,a,n,i,l){function r(t){return t}var o={},u=$(t),s=$(a),d=$(e),n=$(n),i=$(i);return function(){d.autocomplete({autoFill:!0,source:function(t,e){var a=t.term;return r(a)in o?void e(o[r(a)]):void ajaxCall({url:Routing.generate("find_products",{code:a,selectedType:"article"}),method:GET},function(t){void 0==t.errors&&(o[r(a)]=$.map(t.data[0],function(t){return{id:t.id,name:t.name,label:t.externalId,value:t.externalId,externalId:t.externalId,labelUnitUsage:t.labelUnitUsage,buyingCost:parseFloat(t.buyingCost),inventoryQty:parseFloat(t.inventoryQty),usageQty:parseFloat(t.usageQty)}}),e(o[r(a)]))},null,null,!0)},select:function(t,e){s.val(e.item.name),u.val(e.item.id),void 0!==i&&i.text(Translator.trans(e.item.labelUnitUsage)),n.attr("data-usage-unit-price",e.item.buyingCost/(e.item.inventoryQty*e.item.usageQty))}}),s.autocomplete({autoFill:!0,source:function(t,e){var a=t.term;return r(a)in o?void e(o[r(a)]):void ajaxCall({url:Routing.generate("find_products",{term:a,selectedType:"article"}),method:GET},function(t){void 0==t.errors&&(o[r(a)]=$.map(t.data[0],function(t){return{id:t.id,name:t.name,label:t.externalId+"- "+t.name,externalId:t.externalId,labelUnitUsage:t.labelUnitUsage,buyingCost:parseFloat(t.buyingCost),inventoryQty:parseFloat(t.inventoryQty),usageQty:parseFloat(t.usageQty)}}),e(o[r(a)]))},null,null,!0)},select:function(t,e){console.log(e,e.item.buyingCost,e.item.inventoryQty,e.item.usageQty),null!=l&&l(t,e),u.val(e.item.id),d.val(e.item.externalId),void 0!==i&&i.text(Translator.trans(e.item.labelUnitUsage)),n.attr("data-usage-unit-price",e.item.buyingCost/(e.item.inventoryQty*e.item.usageQty))}})}}