$(function(){var e=initDatePicker("#inventory_search_startDate"),t=initDatePicker("#inventory_search_endDate");e.pickadate("picker").on({close:function(){var a=e.pickadate("picker").get("select");t.pickadate("picker").set("min",a)}}),t.pickadate("picker").on({close:function(){var a=t.pickadate("picker").get("select");e.pickadate("picker").set("max",a)}}),iventoryListDatatable=initSimpleDataTable("#inventory-table",{searching:!0,processing:!0,serverSide:!0,order:[[1,"desc"]],ajax:{url:Routing.generate("inventory_list"),data:function(e){return e.criteria=serializeArrayToObjectByKey($("#filterInventoryForm").serializeArray(),"name"),e},type:"GET"},columns:[{data:"id"},{data:"createdAt.timestamp",render:function(e){return moment.unix(e).format("DD/MM/YYYY HH:mm:ss")}},{data:"fiscalDate.timestamp",render:function(e){return moment.unix(e).format("DD/MM/YYYY")}},{data:"sheetModelLabel"},{data:null,orderable:!1,render:function(e){var t;return(moment(),moment.unix(e.createdAt.timestamp),$("#inventory-table").attr("data-template")).replace(/_id_/g,e.id)},targets:0}],drawCallback:function(){$('[data-toggle="tooltip"]').tooltip()}}),$("#reset-filter").on("click",function(){resetFilter($(".filter-zone")),iventoryListDatatable.ajax.reload()}),$(document).on("click",".btnDetailsInventory",function(e){var t=$(this),a=$(this).attr("data-id");loader.block(t),ajaxCall({method:"GET",url:Routing.generate("inventory_sheet_details",{inventorySheet:a})},function(e){void 0===e.errors&&showDefaultModal(Translator.trans("inventory.title.consult"),e.data[0],"",1e3,null)},null,function(){loader.unblock(t)})})});