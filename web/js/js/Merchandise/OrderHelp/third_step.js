function days(t){return $($("#budget-tables tbody tr")[t]).attr("short-day")}function getCurrentSupplierID(){for(var t=$(".carousel-inner").find(".item"),a=0;a<t.length;a++)if($(t[a]).hasClass("active"))return $(t[a]).attr("supplier-id");return null}function colorDays(){var t=$($(".vertical:visible")[0]).attr("delivery-day"),a=$("#budget-tables tbody tr");$("#budget-tables").find("tr").removeClass("order-delivery-0 order-delivery-1 order-delivery-2 order-delivery-3 order-delivery-4 order-delivery-5 order-delivery-6"),$.each(a,function(a,e){($(e).hasClass("d-"+getCurrentSupplierID()+"-"+t)||$(e).attr("w")==t)&&$(e).addClass("order-delivery-"+t)})}function getDay(t){return t=parseInt(Math.trunc(t)),t<0&&(t=0),days(t)}function getDeliveryDay(t){return 10*t%10==0&&t--,t=Math.trunc(t),t<0&&(t=0),days(t)}function update(t,a,e){var i=$(".budget"),o=0,n=max-a.values[1];10*n%10>0&&(o+=.5*parseFloat($(i[Math.trunc(n)]).html()),n=Math.trunc(n)+1);var r,l=max-a.values[0],s=max-a.value;for(r=n;r<l;r++)o+=parseFloat($(i[r]).html());r-l>0&&(o-=parseFloat($(i[r-1]).html())/2);var d=$(e).find(slid).attr("cat-name");$("#"+d).find(".cat-budgets").val(Math.round(o)+" â‚¬"),$("#"+d).find(".cat-budgets-hidden").val(floatToString(o)),$("#"+d).find(".cat-range-hidden").val(s-n),$("#"+d).find(".absolute_order_day").val(20-a.values[1]);var e=19.9-a.values[0];e=e>=0?e:0,$("#"+d).find(".absolute_delivery_day").val(e)}function moveTooltip(t,a,e){var i=Math.abs(a.values[0]-a.values[1]),o=$(e).find(".handle-tooltip-1"),n=$($(e).find(".ui-slider-handle")[0]).position().top;o.css("margin-top",n),o.html(getDeliveryDay(20-a.values[0])+" ("+i+" "+Translator.trans("days_label_shortcut")+")");var r=$(e).find(".handle-tooltip-2"),l=$($(e).find(".ui-slider-handle")[1]).position().top;r.css("margin-top",l),r.html(getDay(20-a.values[1]))}function moveToRight(t,a){"undefined"==typeof a&&(a=function(t){$(t).hide()}),$(t).css("position","absolute"),$(t).animate({"margin-left":"+=100%"},"slow",function(){$(t).css("position","relative"),$(t).css("margin","0%"),a(t)})}function moveToLeft(t,a){"undefined"==typeof a&&(a=function(t){$(t).hide()}),$(t).css("position","absolute"),$(t).animate({"margin-left":"-=100%"},"slow",function(){$(t).css("position","relative"),$(t).css("margin","0%"),a(t)})}var max=20,tdHeight=34,slid=".flat-slider-vertical";$(document).on("click",".day-table-control.left-control",function(){var t=$(this).siblings("table.active");if(t.prev().hasClass("day-table")){var a=t.prev();moveToLeft(t,function(t){t.removeClass("active"),a.addClass("active"),colorDays()})}else{var e=t.siblings(".day-table");if(e.length>0){var a=e.last();moveToLeft(t,function(t){t.removeClass("active"),a.addClass("active"),colorDays()})}}if("undefined"!=typeof a){var i=a.siblings(".day-table-indicator-container");i.find(".day-table-indicator").removeClass("active"),i.find(".day-table-indicator[data-target="+a.attr("day")+"]").addClass("active")}}),$(document).on("click",".day-table-control.right-control",function(){var t=$(this).siblings("table.active");if(t.next().hasClass("day-table")){var a=t.next();moveToRight(t,function(t){t.removeClass("active"),a.addClass("active"),colorDays()})}else{var e=t.siblings(".day-table");if(e.length>0){var a=e.first();moveToRight(t,function(t){t.removeClass("active"),a.addClass("active"),colorDays()})}}if("undefined"!=typeof a){var i=a.siblings(".day-table-indicator-container");i.find(".day-table-indicator").removeClass("active"),i.find(".day-table-indicator[data-target="+a.attr("day")+"]").addClass("active")}}),$(function(){$("#suppliers-caroussel").css("height",$("#budget-tables").outerHeight());var t=$(".vertical");$.each(t,function(t,a){var e=parseFloat($(a).attr("absolute-order-day")),i=parseFloat($(a).attr("range")),o=parseInt($(a).attr("delivery-day"));$(a).find(slid).sliderJquery({orientation:"vertical",range:!0,values:[max-e-i,max-e],min:0,max:max,step:.5,slide:function(t,e){moveTooltip(t,e,a),update(t,e,a)},stop:function(t,e){moveTooltip(t,e,a)},create:function(t,n){$(a).find(".ui-widget-header").addClass("order-delivery-"+o),$(a).find(".handle-tooltip-1, .handle-tooltip-2").addClass("order-delivery-"+o);var r=$($(a).find(".ui-slider-handle")[0]).position().top;r>0?$(a).find(".handle-tooltip-1").css("margin-top",r):$(a).find(".handle-tooltip-1").css("margin-top",(i+e)*tdHeight),$(a).find(".handle-tooltip-1").html(getDeliveryDay(e+i)+"("+i+Translator.trans("days_label_shortcut")+")"),$(a).find(".handle-tooltip-1").show();var l=$($(a).find(".ui-slider-handle")[1]).position().top;l>0?$(a).find(".handle-tooltip-2").css("margin-top",l):$(a).find(".handle-tooltip-2").css("margin-top",e*tdHeight),$(a).find(".handle-tooltip-2").html(getDay(e)),$(a).find(".handle-tooltip-2").show()}})}),colorDays(),$("#suppliers-caroussel").on("slid.bs.carousel",function(){colorDays()})});