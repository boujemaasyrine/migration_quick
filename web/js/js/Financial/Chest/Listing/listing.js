$(function(){chestCounts=initSimpleDataTable("#chest_counts_table",{rowId:"id",processing:!0,serverSide:!0,searching:!0,pageLength:10,order:[[0,"desc"]],columns:[{data:"date"},{data:"owner"},{data:"realCounted"},{data:"gap"},{data:"closured",render:function(t){return t?Translator.trans("keyword.yes"):Translator.trans("keyword.no")}},{data:"closureDate"},{className:"actions-btn",render:function(t,n,e){var a="<button type='button' class='btn btn-view btn-icon detail-btn'> "+Translator.trans("btn.view_details")+'</button><a class="strech_btn text-black" href="'+Routing.generate("chest_count_detail_print",{chestCount:e.id})+'" id="downloadReport"> <img src="'+pdfIcon+'" style="height: 25px" alt="'+Translator.trans("btn.download")+Translator.trans("btn.download_pdf")+'"/><span style="color: #000;">'+Translator.trans("btn.download_pdf")+'</span> </a><a class="strech_btn text-black" href="'+Routing.generate("chest_count_detail_print",{chestCount:e.id,xls:!0})+'" id="export-btn"> <img src="'+xlsIcon+'" style="height: 25px" alt="'+Translator.trans("btn.download")+Translator.trans("btn.download_xls")+'"/> <span style="color: #000;">'+Translator.trans("btn.download_xls")+"</span> </a>";return a}}],ajax:{url:Routing.generate("chest_list_json"),data:function(t){return t.criteria=serializeArrayToObjectByKey($("#filterChestCountsForm").serializeArray(),"name"),t},type:"post"}}),$("#reset-filter").on("click",function(){resetFilter($(".filter-zone")),chestCounts.ajax.reload()}),$("#export-btn").on("click",function(){submitExportDocumentFile(".filter-zone",chestCounts,Routing.generate("chest_list_json",{download:1}))}),$("#export-xls").on("click",function(){submitExportDocumentFile(".filter-zone",chestCounts,Routing.generate("chest_list_json",{download:2}))}),$(document).on("click",".detail-btn",function(){loader.block();var t=$(this).parentsUntil("tbody","tr").attr("id");ajaxCall({url:Routing.generate("chest_count_detail",{chestCount:t}),type:"json"},function(t){showDefaultModal(Translator.trans("chest.listing.details"),t.data,t.dataFooter,"90%"),loader.unblock()},function(t){loader.unblock()})})});