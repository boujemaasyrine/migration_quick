function setInputValue(t,e){$(t).siblings("label[for="+$(t).attr("id")+"]").addClass("active"),$(t).val(e)}function resetInputValue(t){$(t).val(""),$(t).siblings("label[for="+$(t).attr("id")+"]").removeClass("active")}function resetCheckboxValue(t){$(t).prop("checked",!1)}function highlightInput(t,e){$(t).addClass(e),$(t).on("change",function(t){var a=t.currentTarget;""!=$(a).val()&&$(a).removeClass(e)})}function resetFilter(t){var e=$(t).find("input");$.each(e,function(t,e){"checkbox"!=$(this).attr("type")?resetInputValue(e):resetCheckboxValue(e)}),$(t).find("select option").removeAttr("selected")}function serializeArrayToObjectByKey(t,e){var a={};return $.each(t,function(t,n){n.hasOwnProperty(e)&&n.hasOwnProperty("value")&&(a[n[e]]=n.value)}),a}function createAForm(t,e,a,n){var o="<form method='post' id='"+n+"' action='"+a+"'>",r=$(t).find("input");$.each(r,function(t,e){"undefined"!=typeof $(e).attr("name")&&("checkbox"!=$(e).attr("type")||"checkbox"==$(e).attr("type")&&$(e).prop("checked"))&&(o=o+"<input name='criteria["+$(e).attr("name")+"]' value='"+$(e).val()+"' />")}),console.log(o);var i=$(t).find("select");$.each(i,function(t,e){"undefined"!=typeof $(e).attr("name")&&(o=o+"<input name='criteria["+$(e).attr("name")+"]' value='"+$(e).val()+"' />")});var s=e.order()[0];o=o+"<input name='order[0][column]' value='"+s[0]+"' />",o=o+"<input name='order[0][dir]' value='"+s[1]+"' />";var l=e.search();return o=o+"<input name='search[value]' value='"+l+"' />",o+="</form>"}function submitExportDocumentFile(t,e,a){var n=createAForm(t,e,a,"export-form");$(body).append(n),$("#export-form").submit(),$("#export-form").remove()}function searchInArrayByKeyValue(t,e,a){var n;for(n in t){var o=t[n];if(o.hasOwnProperty(e)&&o[e].toString()==a.toString()){return o}}return null}function floatToString(t,e){if("undefined"==typeof e&&(e=2),null==t){return ""}if(t=parseFloat(t),0==e){return Math.trunc(t)}var a=t.toFixed(2);for(a=a.toString().replace(".",","),a.indexOf(",")==-1&&(a+=",00");a.substr(a.indexOf(",")+1).length<e;){a+="0"}return a.substr(a.indexOf(",")+1).length>e&&(a=a.substr(0,a.indexOf(",")+e+1)),a}function showPopError(t){var e="<div class='alert alert-danger'><span class='glyphicon glyphicon-warning-sign'></span>  "+t+"</div>";$("#error-box-modal").is(":visible")||$("#error-box-modal").modal("show"),$("#error-box-modal .modal-body").append(e)}function closeErrorBox(){$("#error-box-modal").modal("hide"),$("#error-box-modal .modal-body").html("")}function appendErrorMsgTozone(t,e,a){var n="<div id='__id__' class='alert alert-danger form-error' role='alert'> <span class='glyphicon glyphicon-warning-sign'></span> __msg__ </div>",o=n.replace(/__msg__/,e).replace(/__id__/,a);t.append(o)}function clearErrorMsgToZone(t){t.find(".form-error").remove()}function showDetailsInPopUp(t,e){ajaxCall({url:t,type:"json"},function(t){showDefaultModal(e,t.data,"","95%","95%"),loader.hide()})}function showEntityDetailsWhenDocumentReady(t,e,a){var n=window.location.hash;if(""!=n.trim()){var o=n.substr(1);if(""!=o.trim()&&Number.isInteger(parseFloat(o.trim()))){var r=o.trim();loader.show();var i=[];i[e]=r,showDetailsInPopUp(Routing.generate(t,i),a)}}}function rotateElement(t,e){"undefined"!=typeof e?t.removeClass("rotation"):t.addClass("rotation")}function goBack(){window.history.back()}function sortTabByProp(t,e,a){if(0==t.length){return 0}for(var n=t[0],o=0;o<t.length;o+=1){if(t[o][e].toString().toUpperCase()==a.toString().toUpperCase()){return t[0]=t[o],void(t[o]=n)}}}function progressBarSuivi(t,e,a,n,o){ajaxCall({url:Routing.generate("progress",{progression:t}),dataType:"json"},function(t){void 0!=t.redirection&&(window.location.href=t.redirection),null==t.result?(clearInterval(e),console.log("clear interval")):($(a).find(".progress-bar").css("width",t.result.progress+"%"),"undefined"==typeof n?$(a).find(".progress-hint .progress-hint-per").html(t.result.progress+"% ("+t.result.proceeded+"/"+t.result.total+" Elements)"):null!=n&&$(a).find(".progress-hint .progress-hint-per").html(n(t.result)),100==parseFloat(t.result.progress)&&($(a).find(".progress-bar").removeClass("active"),$(a).find(".progress-bar").addClass("progress-bar-success"),clearInterval(e),"undefined"!=typeof o&&null!=o&&o()))})}function fixMyHeader(t,e){var a=$(t).find("thead").first();$(window).scroll(function(){if($(t).length){var n=$(this).scrollTop(),o=$(t).offset().top;o-n<0?($(a).css("position","fixed"),$(a).css("top",$("#mainNav").height()),void 0!=e&&e(t)):($(a).css("top",0),$(a).css("position","relative"))}})}function fixTableHeaderWidth(t){var e=$(t).find("thead").find(".main-header-tr").first().find("td, th"),a=$(t).find("tbody").find(".main-tbody-tr").first().find("td, th");$(t).find("thead").css("width",$(t).find("tbody").outerWidth()+"px"),$.each(a,function(t,n){$(e[t]).css("width",$(n).outerWidth()+"px"),$(a[t]).css("width",$(n).outerWidth()+"px")})}function sortSelect(select){var selected=select.val(),options=select.find("option"),arr=options.map(function(t,e){return{t:$(e).text(),v:e.value}}).get(),empty;null!=selected&&(empty=options.map(function(t,e){if(""==$(e).val()){return{t:$(e).text(),v:e.value}}}).get()),arr.sort(function(t,e){return t.t>e.t?1:t.t<e.t?-1:0});var x;return x=null!=selected?-1:0,options.each(function(i,o){0==i&&null!=selected?empty.length>0&&(o.value=empty[0].v,$(o).text(empty[0].t)):(o.value=arr[eval(i+x)].v,$(o).text(arr[eval(i+x)].t)),""==arr[i].v&&(x=0)}),select.val(selected),select}function inWorkflow(){var t=!1;return ajaxCall({url:Routing.generate("in_workflow"),async:!1},function(e){t=e},null,null,!0),t}function inAdministrativeClosing(){var t=!1;return ajaxCall({url:Routing.generate("in_administrative_closing"),async:!1},function(e){t=e},null,null,!0),t}function inChestCountAdminClosing(){var t=!1;return ajaxCall({url:Routing.generate("in_chest_count"),async:!1},function(e){t=e["in"]},null,null,!0),t}function nextStep(t,e){var a={};void 0!=t&&(a.targetRouteName=t,void 0!=e&&(a.outRouteOff=e)),window.location.href=Routing.generate("next_in_workflow",a)}function orderMultoSelectWithoutOrderingSelectedOptions(t){var e=[],a=[];$.each(t.find("option"),function(t,n){$(n).is(":selected")?e.push(n):a.push(n)}),a.sort(function(t,e){return $(t).text().toLowerCase()<$(e).text().toLowerCase()?-1:1}),t.find("option").remove(),$.each(e,function(e,a){t.append(a)}),$.each(a,function(e,a){t.append(a)})}function orderMultoSelect(t){var e=[];$.each(t.find("option"),function(t,a){e.push(a)}),e.sort(function(t,e){return $(t).text().toLowerCase()<$(e).text().toLowerCase()?-1:1}),t.find("option").remove(),$.each(e,function(e,a){t.append(a)})}function initWeatherIcon(){$(".weather-icon").attr("data-placement","top"),$(".weather-icon").attr("data-toggle","tooltip"),$(".weather-icon.snow").attr("title",Translator.trans("weather.snow")),$(".weather-icon.rain").attr("title",Translator.trans("weather.rain")),$(".weather-icon.sun").attr("title",Translator.trans("weather.sun")),$(".weather-icon.cloud").attr("title",Translator.trans("weather.cloud")),$(".weather-icon").tootltipBootstrap()}function hasTheRightFor(t){var e=!1;return ajaxCall({url:Routing.generate("has_right",{right:t}),async:!1},function(t){e=t},null,null,!0),e}function ShortcutController(){var t=this;this.add=function(t,e,a,n,o){o=o?"."+o:"",$(document).bind("keyup"+o,function(o){e&&a?o.ctrlKey&&o.shiftKey&&o.keyCode==t&&n(o):e?o.ctrlKey&&!o.shiftKey&&o.keyCode==t&&n(o):a?!o.ctrlKey&&o.shiftKey&&o.keyCode==t&&n(o):o.ctrlKey||o.shiftKey||o.keyCode!=t||n(o)})},this.addCtrl=function(e,a){t.add(e,!0,!1,a)},this.addShift=function(e,a){t.add(e,!1,!0,a)},this.addCtrlShift=function(e,a){t.add(e,!0,!0,a)},this.addSimple=function(e,a){t.add(e,!1,!1,a)}}var GET="GET",POST="POST",PUT="PUT",DELETE="DELETE",initMultiSelect=function(t){$(t).multiselect({sortable:!0,searchable:!0,searchField:!0,filterSelected:!0,locale:$("html").attr("lang")}),$(".multiselect-available-list .ui-icon-arrowthickstop-1-w").toggleClass("ui-icon-arrowthickstop-1-w ui-icon-arrowthickstop-1-e"),$(".multiselect-selected-list .ui-icon-arrowthickstop-1-e").toggleClass("ui-icon-arrowthickstop-1-w ui-icon-arrowthickstop-1-e")},ajaxCall=function(t,e,a,n,o){var r=Translator.trans("Error.general.internal"),i={method:"GET"};return $.extend(i,t),void 0==o&&(o=!1),e?i.success=function(t){!o&&("object"!=typeof t||"undefined"!=typeof t.errors&&t.errors.length>0)&&Notif.alert(r),void 0!=t.in_workflow&&t.in_workflow?window.location.href=t.redirect_to:e(t)}:o||(i.success=function(t){!o&&("object"!=typeof t||"undefined"!=typeof t.errors&&t.errors.length>0)&&Notif.alert(r)}),a?i.error=function(t,e,n){o||Notif.alert(r),a(t,e,n)}:o||(i.error=function(t){!o&&"undefined"!=typeof t.errors&&t.errors.length>0&&Notif.alert(r)}),n&&(i.complete=n),$.ajax(i)},showGeneralModal=function(t,e,a,n,o){var r=$("#general-modal-box");return "undefined"!=typeof o&&r.addClass("modal-"+n),"undefined"!=typeof o&&r.addClass("modal-"+o),"undefined"!=typeof t&&r.find(".modal-title").html(t),"undefined"!=typeof e&&r.find(".modal-body").html(e),"undefined"!=typeof a&&r.find(".modal-footer").html(a),r.openModal(),r},showDefaultModal=function(t,e,a,n,o,r){var i=$("#default-modal-box");return "undefined"!=typeof n&&$(i).css("width",n),"undefined"!=typeof o&&$(i).css("height",o),""==t&&i.find(".modal-header").hide(),i.find(".modal-title").html(t),i.find(".modal-body>p").html(e),i.find(".modal-footer").show(),""==a?i.find(".modal-footer").hide():"undefined"!=typeof a&&null!=a?i.find(".modal-footer").html(a):i.find(".modal-footer").html("<button type='button' class='btn btn-cancel' data-dismiss='modal'>Fermer</button>"),"undefined"==typeof r?i.find(".modal-header .close").show():null!=r&&i.find(".modal-header .close").hide(),""==t&&""==a&&(i.find(".modal-body").css("padding","0"),i.find(".modal-body").find("p").css("margin","0")),i.modal("show"),i},showEmtptyModal=function(t){var e=$("#empty-modal-box");e.html(t),e.modal("show")},showHelpBox=function(){showDefaultModal("<span class='glyphicon glyphicon-info-sign'></span> Aide",$("#aide-box-content").html())},openCloseNavBar=function(){$("#vertical-nav-bar").is(":visible")?$(".nav-bar-container").animate({width:"toggle"},350,function(){$(".show-nav-bar-btn").show(),$("#body").toggleClass("col-lg-10 col-md-9 col-xs-12")}):($(".show-nav-bar-btn").hide(),$("#body").toggleClass("col-lg-10 col-md-9 col-xs-12"),$(".nav-bar-container").animate({width:"toggle"},350,function(){}))};$(function(){moment.locale(Translator.locale),$(".collapse-link").on("click",function(t){$($(this).attr("data-target")).slideToggle()}),initDatePicker(),$(document).on("mouseenter",".tooltipped",function(t){$(this).attr("data-tooltip-id")||$(this).tooltip()}),$(document).on("mouseenter",".bootstrap_tooltipped",function(t){$(this).attr("data-tooltip-id")||$(this).tootltipBootstrap()}),screen.width<=991&&openCloseNavBar(),$(document).on("click",".filter-zone .panel-heading",function(){$(this).siblings(".panel-body").slideToggle()}),$(document).on("change",".force-modulo-5",function(){var t=$(this).val().replace(",",".");Number(t)==t&&$(this).val(t-t%5)}),$(document).on("change",".parse-float",function(){var t=$(this).val().replace(",",".");$(this).val(t)})}),$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},$.addParamToUrl=function(t,e,a){var n=new RegExp(e+"=([^&]*)","i").exec();return n=n&&n[1]||"",""==n&&(t+=t.indexOf("?")===-1?"?"+e+"="+a:"&"+e+"="+a),t},$.removeParamToUrl=function(t,e){var a,n=t.split("?")[0],o=[],r=t.indexOf("?")!==-1?t.split("?")[1]:"";if(""!==r){o=r.split("&");for(var i=o.length-1;i>=0;i-=1){a=o[i].split("=")[0],a===e&&o.splice(i,1)}n=n+"?"+o.join("&")}return n};var auxParseFloat=parseFloat;parseFloat=function(t){return void 0==t||null==t?t:(t=t.toString(),t.indexOf(".")>0&&t.indexOf(",")>0&&(t=t.replace(".","")),t=t.replace(",","."),t=""===t?0:t,auxParseFloat(t))};var auxIsNaN=isNaN;isNaN=function(t){return "string"==typeof t&&(t=t.replace(/\,/g,".")),auxIsNaN(t)},$(document).on("click",".closeDefaultModal",function(){$("#default-modal-box").modal("hide"),$("#default-modal-box p").html("")}),$(function(){$("select.sortable").each(function(){sortSelect($(this))})}),$(function(){$("form .help-block.has-error").closest(".form-group").addClass("has-error")}),$(document).on("mouseenter",".weather-icon",function(){initWeatherIcon()}),$.validator.methods.range=function(t,e,a){var n=t.replace(",",".");return this.optional(e)||n>=a[0]&&n<=a[1]},$.validator.methods.number=function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(t)},$(document).on("click","*[disabled=disabled]",function(){return $(this).blur(),!1}),$(".nav ul").each(function(){var t=!0;$(this).find("li").each(function(){$(this).hasClass("hidden")||(t=!1)}),t&&$(this).addClass("hidden")}),$("a.workflow_start").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),a=$(this).text();bootbox.confirm({title:Translator.trans("workflow_confirm_title",{name:a}),message:Translator.trans("workflow_confirm_text"),buttons:{cancel:{label:"&nbsp;"+Translator.trans("keyword.no"),className:"btn btn-cancel"},confirm:{label:" &nbsp;"+Translator.trans("keyword.yes"),className:"btn btn-validate btn-icon btn-validate"}},callback:function(t){t&&(loader.block(),window.location.href=e)}})}),$("#restaurant-switcher").on("change",function(){var t=Translator.trans("switch_restaurant"),e="<h3>"+Translator.trans("switch_restaurant_confirm")+"</h3>",a='<div class="row" style="margin-bottom: 0px;"><div class="col col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: right"><button class="btn waves-effect waves-light blue" type="button" id="confirm-switch-restaurant" style="margin-left: 10px;"><span>'+Translator.trans("keyword.yes")+'</span></button><button class="btn btn-cancel" type="button" data-dismiss="modal"><span>'+Translator.trans("keyword.close")+"</span></button></div></div>";showDefaultModal(t,e,a)}),$(document).on("click","#confirm-switch-restaurant",function(){$("#switch-restaurant-form").submit()});var initSimpleDataTable=null;$(function(){var t={processing:Translator.trans("datatable.processing"),search:Translator.trans("datatable.search"),lengthMenu:Translator.trans("datatable.lengthMenu"),info:Translator.trans("datatable.info"),infoEmpty:Translator.trans("datatable.infoEmpty"),infoFiltered:Translator.trans("datatable.infoFiltered"),infoPostFix:Translator.trans("datatable.infoPostFix"),loadingRecords:Translator.trans("datatable.loadingRecords"),zeroRecords:Translator.trans("datatable.zeroRecords"),emptyTable:Translator.trans("datatable.emptyTable"),paginate:{first:Translator.trans("datatable.paginate.first"),previous:Translator.trans("datatable.paginate.previous"),next:Translator.trans("datatable.paginate.next"),last:Translator.trans("datatable.paginate.last")}};initSimpleDataTable=function(e,a){"undefined"==typeof a&&(a={});var n={responsive:!0,language:t,pageLength:100};return $.extend(n,a),$(e).DataTable(n)}});var datepickerDefaultLanguage={labelMonthNext:Translator.trans("datepicker.labelMonthNext"),labelMonthPrev:Translator.trans("datepicker.labelMonthPrev"),labelMonthSelect:Translator.trans("datepicker.labelMonthSelect"),labelYearSelect:Translator.trans("datepicker.labelYearSelect"),monthsFull:[Translator.trans("datepicker.monthsFull.1"),Translator.trans("datepicker.monthsFull.2"),Translator.trans("datepicker.monthsFull.3"),Translator.trans("datepicker.monthsFull.4"),Translator.trans("datepicker.monthsFull.5"),Translator.trans("datepicker.monthsFull.6"),Translator.trans("datepicker.monthsFull.7"),Translator.trans("datepicker.monthsFull.8"),Translator.trans("datepicker.monthsFull.9"),Translator.trans("datepicker.monthsFull.10"),Translator.trans("datepicker.monthsFull.11"),Translator.trans("datepicker.monthsFull.12")],monthsShort:[Translator.trans("datepicker.monthsShort.1"),Translator.trans("datepicker.monthsShort.2"),Translator.trans("datepicker.monthsShort.3"),Translator.trans("datepicker.monthsShort.4"),Translator.trans("datepicker.monthsShort.5"),Translator.trans("datepicker.monthsShort.6"),Translator.trans("datepicker.monthsShort.7"),Translator.trans("datepicker.monthsShort.8"),Translator.trans("datepicker.monthsShort.9"),Translator.trans("datepicker.monthsShort.10"),Translator.trans("datepicker.monthsShort.11"),Translator.trans("datepicker.monthsShort.12")],weekdaysFull:[Translator.trans("datepicker.weekdaysFull.1"),Translator.trans("datepicker.weekdaysFull.2"),Translator.trans("datepicker.weekdaysFull.3"),Translator.trans("datepicker.weekdaysFull.4"),Translator.trans("datepicker.weekdaysFull.5"),Translator.trans("datepicker.weekdaysFull.6"),Translator.trans("datepicker.weekdaysFull.7")],weekdaysShort:[Translator.trans("datepicker.weekdaysShort.1"),Translator.trans("datepicker.weekdaysShort.2"),Translator.trans("datepicker.weekdaysShort.3"),Translator.trans("datepicker.weekdaysShort.4"),Translator.trans("datepicker.weekdaysShort.5"),Translator.trans("datepicker.weekdaysShort.6"),Translator.trans("datepicker.weekdaysShort.7")],weekdaysLetter:[Translator.trans("datepicker.weekdaysLetter.1"),Translator.trans("datepicker.weekdaysLetter.2"),Translator.trans("datepicker.weekdaysLetter.3"),Translator.trans("datepicker.weekdaysLetter.4"),Translator.trans("datepicker.weekdaysLetter.5"),Translator.trans("datepicker.weekdaysLetter.6"),Translator.trans("datepicker.weekdaysLetter.7")],today:Translator.trans("datepicker.today"),clear:Translator.trans("datepicker.clear"),close:Translator.trans("datepicker.close")},defaultOptions={selectMonths:!0,selectYears:15,closeOnSelect:!0,format:"dd/mm/yyyy",onClose:function(){$(".datepicker").blur(),$(".picker").blur()},onSet:function(t){"select"in t&&this.close()},firstDay:1};defaultOptions=$.extend(defaultOptions,datepickerDefaultLanguage);var initDatePicker=function(t,e){if(void 0!==e){if(void 0!==e.onSet){var a=e.onSet;defaultOptions.onSet=function(t){a(t),"select"in t&&this.close()}}e=$.extend(e,defaultOptions)}else{e=defaultOptions}var n=null;return void 0===t?(n=$(".datepicker").pickadate(e),$(".datepicker").unbind("focus")):(n=$(t).pickadate(e),$(t).unbind("focus")),n},loader=null,apiLoader=null;$(function(){function t(){function t(){var e=$(".loader_front"),n=$(".loader_background"),o=e.css("width");n.fadeIn(),e.fadeIn(500),n.animate({width:o},1e3,function(){a||$(".loader_background").fadeOut(500,function(){$(".loader_background").css("width",0),$(".loader_front").fadeOut(500),t()})})}var e=this,a=!0;this.show=function(){$(".loader").fadeIn(),a=!1,t()},this.block=function(a){a?($(a).block({message:"",css:{border:"3px solid #a00"}}),t()):e.show()},this.unblock=function(t){t?$(t).unblock():e.hide()},this.hide=function(){a=!0,$(".loader_background").animate({width:0},100,function(){$(".loader").fadeOut()})}}function e(){function t(){var e=$("#api_loader_front"),n=$("#api_loader_background"),o=e.css("width");n.fadeIn(),e.fadeIn(500),n.animate({width:o},1e3,function(){a||$("#api_loader_background").fadeOut(500,function(){$("#api_loader_background").css("width",0),$("#api_loader_front").fadeOut(500),t()})})}var e=this,a=!0;this.showApiLoader=function(){$("#api-loader").fadeIn(),a=!1,t()},this.blockApiLoader=function(a){a?($(a).block({message:"",css:{border:"3px solid #a00"}}),t()):e.showApiLoader()},this.unblockApiLoader=function(t){t?$(t).unblock():e.hideApiLoader()},this.hideApiLoader=function(){a=!0,$("#api_loader_background").animate({width:0},100,function(){$("#api-loader").fadeOut()})}}loader=new t,apiLoader=new e}),$(document).ready(function(){if("undefined"!=typeof currentModule){switch(currentModule){case "financial":$("li.financial-item").slideDown();break;case "supplying":$("li.supplying-item").slideDown();break;case "stock":$("li.stock-item").slideDown();break;case "staff":$("li.people-item").slideDown();break;case "utilities":$("li.utility-item").slideDown();break;case "config":$("li.config-item").slideDown();break;case "report":$("li.reporting-item").slideDown()}}$(window).width()>480&&$("ul.sf-menu").superfish()}),$(document).ready(function(){if("undefined"!=typeof currentModule){switch(currentModule){case "financial":$("li.financial-item").addClass("active");break;case "supplying":$("li.supplying-item").addClass("active");break;case "stock":$("li.stock-item").addClass("active");break;case "staff":$("li.people-item").addClass("active");break;case "utilities":$("li.utility-item").addClass("active");break;case "config":$("li.config-item").addClass("active");break;case "report":$("li.reporting-item").addClass("active")}}});var Notif=null;$(function(){function t(){var t={layout:"bottomRight",timeout:a,animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:e}};this.alert=function(n,o,r){var i={text:n,type:"error",timeout:void 0===r||null===r?a:r,animation:{speed:void 0===o||null===o?e:o}};return i=$.extend(i,t),noty(i)},this.success=function(n,o,r,i){var s={text:n,type:"success",timeout:void 0===r||null===r?a:r,animation:{speed:void 0===o||null===o?e:o}};return void 0!==i&&(s.buttons=i),s=$.extend(s,t),noty(s)}}var e=500,a=2500;Notif=new t}),function(t,e,a){var n={},o={},r=function(e){return "string"==t.type(e)&&(e={message:e}),arguments[1]&&(e=t.extend(e,"string"==t.type(arguments[1])?{status:arguments[1]}:arguments[1])),new s(e).show()},i=function(t,e){if(t){for(var a in o){t===o[a].group&&o[a].close(e)}}else{for(var a in o){o[a].close(e)}}},s=function(e){this.options=t.extend({},s.defaults,e),this.uuid="ID"+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random()),this.element=t(['<div class="uk-notify-message alert-dismissable">','<a class="close">&times;</a>',"<div>"+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this),this.options.status&&(this.element.addClass("alert alert-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,o[this.uuid]=this,n[this.options.pos]||(n[this.options.pos]=t('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){t(this).data("notifyMessage").close()}))};return t.extend(s.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var t=this;n[this.options.pos].show().prepend(this.element);var e=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":e},function(){if(t.options.timeout){var e=function(){t.close()};t.timeout=setTimeout(e,t.options.timeout),t.element.hover(function(){clearTimeout(t.timeout)},function(){t.timeout=setTimeout(e,t.options.timeout)})}}),this}},close:function(t){var e=this,a=function(){e.element.remove(),n[e.options.pos].children().length||n[e.options.pos].hide(),delete o[e.uuid]};this.timeout&&clearTimeout(this.timeout),t?a():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){a()})},content:function(t){var e=this.element.find(">div");return t?(e.html(t),this):e.html()},status:function(t){return t?(this.element.removeClass("alert alert-"+this.currentstatus).addClass("alert alert-"+t),this.currentstatus=t,this):this.currentstatus}}),s.defaults={message:"",status:"normal",timeout:5e3,group:null,pos:"top-center"},t.notify=r,t.notify.message=s,t.notify.closeAll=i,r}(jQuery,window,document);var shortcutController=null,KEY_ESCAPE=27,KEY_F8=119,KEY_F7=118,KEY_ADD=107,KEY_ENTER=13;$(function(){shortcutController=new ShortcutController}),$(function(){$.validator.addMethod("regex",function(t,e,a){var n=new RegExp(a);return this.optional(e)||n.test(t)},Translator.trans("general_validation.invalid_format"))});