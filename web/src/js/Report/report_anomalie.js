$(function(){function e(){loader.block();var e=$("#anomaliesFilterForm").serializeArray();$.ajax({type:"POST",url:Routing.generate("report_cashbox_counts_anomalies_update"),data:e,success:function(e){$.each(e,function(e,n){t[e].noUiSlider.destroy(),noUiSlider.create(t[e],{start:[0,100],connect:!0,step:.01,range:{min:0,max:n.max>100?n.max:100},format:wNumb({decimals:0})});var a=document.getElementById("cashbox_counts_anomalies_filter_"+e+"_firstInput"),o=document.getElementById("cashbox_counts_anomalies_filter_"+e+"_secondInput");t[e].noUiSlider.on("update",function(n,t){t?(o.value=n[t],document.getElementById("max-"+e).innerHTML=Math.round(100*n[t])/100):(a.value=n[t],document.getElementById("min-"+e).innerHTML=Math.round(100*n[t])/100)}),t[e].noUiSlider.set([n.first,n.second])}),loader.unblock()}})}var n=["diffCashbox","annulations","corrections","especes","titreRestaurant","abandons"],t={};$.each(n,function(e,n){t[n]=document.getElementById("range-"+n),noUiSlider.create(t[n],{start:[0,100],connect:!0,step:.01,range:{min:0,max:filterMax[n]>100?filterMax[n]:100},format:wNumb({decimals:0})});var a=document.getElementById("cashbox_counts_anomalies_filter_"+n+"_firstInput"),o=document.getElementById("cashbox_counts_anomalies_filter_"+n+"_secondInput");t[n].noUiSlider.set([a.value,o.value]),t[n].noUiSlider.on("update",function(e,t){t?(o.value=e[t],document.getElementById("max-"+n).innerHTML=Math.round(100*e[t])/100):(a.value=e[t],document.getElementById("min-"+n).innerHTML=Math.round(100*e[t])/100)})}),$("#cashbox_counts_anomalies_filter_startDate").change(function(){e()}),$("#cashbox_counts_anomalies_filter_endDate").change(function(){e()})});