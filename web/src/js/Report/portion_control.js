$(function(){function e(){var e=$("#portion_control_filter_code");e.autocomplete({autoFill:!0,source:function(e,n){var o=e.term;return t(o)in r?void n(r[t(o)]):void ajaxCall({url:Routing.generate("find_active_products",{code:o,selectedType:type}),method:GET},function(e){void 0==e.errors&&(r[t(o)]=$.map(e.data[0],function(e){return{id:e.id,name:e.name,label:e.externalId+"- "+e.name,value:e.externalId,externalId:e.externalId}}),n(r[t(o)]))},null,null,!0)},select:function(e,t){n.val(t.item.name)}});var n=$("#portion_control_filter_name");n.autocomplete({autoFill:!0,source:function(e,n){var o=e.term;return t(o)in r?void n(r[t(o)]):void ajaxCall({url:Routing.generate("find_active_products",{term:o,selectedType:"article"}),method:GET},function(e){void 0==e.errors&&(r[t(o)]=$.map(e.data[0],function(e){return{id:e.id,name:e.name,label:e.name,value:e.name,externalId:e.externalId}}),n(r[t(o)]))},null,null,!0)},select:function(t,n){e.val(n.item.externalId)}})}function t(e){return e}function n(){var e,t=$("#portionControlTable"),n=t.find("tbody.mainTbody tr.mainRow:not(.hidden):first").children();e=n.map(function(){return $(this).innerWidth()}).get(),t.find("thead tr.mainHeader").children().each(function(t,n){$(n).width(e[t])})}$("#portion_control_filter_category").selectize({});var r={};e(),n(),$(window).scroll(function(){n()});var o="#portionControlTable";$(document).on("keyup","#searchOnReport",function(){var e=$(this).val().toString().toUpperCase(),t=$(o+" tbody tr");t.each(function(t,n){if(!$(n).hasClass("category_name")){var r=$($(n).children("td")[0]).text().toString().toUpperCase().trim(),o=$($(n).children("td")[1]).text().toString().toUpperCase().trim(),a=new RegExp(".*"+e+".*","g");r.match(a)||o.match(a)?$(n).removeClass("hidden"):$(n).addClass("hidden")}}),n()}),fixMyHeader("#portionControlTable")});